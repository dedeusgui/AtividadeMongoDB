INSTALAÃ‡ÃƒO DAS FERRAMENTAS

    npm init -y
    npm install express mongoose cors

    Mongoose
        Mongoose Ã© uma biblioteca de modelagem de objetos para o MongoDB, 
        amplamente usada no ecossistema Node.js. Ela fornece uma camada 
        ODM (Object Data Modeling) que simplifica o mapeamento de documentos 
        MongoDB para objetos JavaScript, permitindo definir esquemas com tipos, 
        validaÃ§Ãµes e middlewares. Mantida pela Automattic, Ã© licenciada sob MIT e 
        compatÃ­vel tambÃ©m com Deno (em versÃ£o alfa).

    Express
        Express (ou Express.js) Ã© um framework web minimalista e flexÃ­vel para 
        Node.js, amplamente usado para criar aplicaÃ§Ãµes e APIs do lado do servidor. 
        Ele simplifica o desenvolvimento de servidores HTTP ao fornecer uma camada 
        robusta de recursos para roteamento, manipulaÃ§Ã£o de solicitaÃ§Ãµes e 
        integraÃ§Ã£o com middleware.




Perfeito ğŸ‘¨â€ğŸ«
Vou montar um **CRUD completo com Node.js + MongoDB + Front-end HTML simples**, ideal para aula prÃ¡tica.

Tecnologias usadas:

* **Node.js**
* **Express**
* **MongoDB**
* **Mongoose**
* HTML + JavaScript puro (fetch API)

---

# ğŸ“ 1ï¸âƒ£ Estrutura do Projeto

```bash
crud-completo/
 â”œâ”€â”€ server.js
 â”œâ”€â”€ models/
 â”‚    â””â”€â”€ Pessoa.js
 â””â”€â”€ public/
      â””â”€â”€ index.html
```

---

# ğŸ“¦ 2ï¸âƒ£ Instalar DependÃªncias

```bash
npm init -y
npm install express mongoose cors
```

---

# ğŸ§  3ï¸âƒ£ Model - Pessoa

ğŸ“ `models/Pessoa.js`

```js
const mongoose = require('mongoose');

const PessoaSchema = new mongoose.Schema({
  nome: { type: String, required: true },
  email: { type: String, required: true },
  dataCadastro: { type: Date, default: Date.now }
});

module.exports = mongoose.model('Pessoa', PessoaSchema);
```

---

# ğŸš€ 4ï¸âƒ£ Servidor Completo

ğŸ“ `server.js`

```js
const express = require('express');
const mongoose = require('mongoose');
const cors = require('cors');
const path = require('path');

const app = express();

app.use(express.json());
app.use(cors());

// Servir arquivos estÃ¡ticos
app.use(express.static(path.join(__dirname, 'public')));

// ConexÃ£o MongoDB
mongoose.connect('mongodb://localhost:27017/cadastro')
  .then(() => console.log('MongoDB conectado'))
  .catch(err => console.log(err));

const Pessoa = require('./models/Pessoa');

// ==================== CRUD ====================

// CREATE
app.post('/pessoas', async (req, res) => {
  const pessoa = new Pessoa(req.body);
  const salva = await pessoa.save();
  res.json(salva);
});

// READ
app.get('/pessoas', async (req, res) => {
  const pessoas = await Pessoa.find();
  res.json(pessoas);
});

// UPDATE
app.put('/pessoas/:id', async (req, res) => {
  const atualizada = await Pessoa.findByIdAndUpdate(
    req.params.id,
    req.body,
    { new: true }
  );
  res.json(atualizada);
});

// DELETE
app.delete('/pessoas/:id', async (req, res) => {
  await Pessoa.findByIdAndDelete(req.params.id);
  res.json({ mensagem: "Pessoa removida" });
});

// Servidor
app.listen(3000, () => {
  console.log('Servidor rodando em http://localhost:3000');
});
```

---

# ğŸŒ 5ï¸âƒ£ Front-End Simples

ğŸ“ `public/index.html`

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CRUD Simples</title>
</head>
<body>

  <h2>Cadastro de Pessoas</h2>

  <input type="hidden" id="id">
  <input type="text" id="nome" placeholder="Nome">
  <input type="email" id="email" placeholder="Email">
  <button onclick="salvar()">Salvar</button>

  <h3>Lista de Pessoas</h3>
  <ul id="lista"></ul>

<script>

const api = "http://localhost:3000/pessoas";

async function carregar() {
  const res = await fetch(api);
  const pessoas = await res.json();

  const lista = document.getElementById("lista");
  lista.innerHTML = "";

  pessoas.forEach(p => {
    lista.innerHTML += `
      <li>
        ${p.nome} - ${p.email}
        <button onclick="editar('${p._id}', '${p.nome}', '${p.email}')">Editar</button>
        <button onclick="deletar('${p._id}')">Excluir</button>
      </li>
    `;
  });
}

async function salvar() {
  const id = document.getElementById("id").value;
  const nome = document.getElementById("nome").value;
  const email = document.getElementById("email").value;

  const dados = { nome, email };

  if (id) {
    await fetch(`${api}/${id}`, {
      method: "PUT",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(dados)
    });
  } else {
    await fetch(api, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(dados)
    });
  }

  limpar();
  carregar();
}

function editar(id, nome, email) {
  document.getElementById("id").value = id;
  document.getElementById("nome").value = nome;
  document.getElementById("email").value = email;
}

async function deletar(id) {
  await fetch(`${api}/${id}`, { method: "DELETE" });
  carregar();
}

function limpar() {
  document.getElementById("id").value = "";
  document.getElementById("nome").value = "";
  document.getElementById("email").value = "";
}

carregar();

</script>

</body>
</html>
```

---

# â–¶ï¸ 6ï¸âƒ£ Rodar o Sistema

### 1ï¸âƒ£ Iniciar MongoDB

```bash
mongod
```

### 2ï¸âƒ£ Rodar servidor

```bash
node server.js
```

### 3ï¸âƒ£ Abrir no navegador

```
http://localhost:3000
```

---

# ğŸ¯ O que o aluno aprende aqui?

âœ… Back-end com Express
âœ… ConexÃ£o com MongoDB
âœ… Model com Mongoose
âœ… Rotas CRUD
âœ… Front-end HTML simples
âœ… ComunicaÃ§Ã£o via fetch (API REST)
âœ… IntegraÃ§Ã£o completa

---

# ğŸ§© Fluxo explicado para aula

```text
UsuÃ¡rio digita no HTML
        â†“
JavaScript envia via fetch
        â†“
Express recebe a requisiÃ§Ã£o
        â†“
Mongoose salva no MongoDB
        â†“
Resposta volta para o navegador
        â†“
Lista atualiza automaticamente
```

---

Se quiser, posso agora montar:

* ğŸ’… VersÃ£o estilizada com Bootstrap
* ğŸ¨ VersÃ£o com Tailwind
* ğŸ— Estrutura organizada em MVC
* ğŸ” VersÃ£o com login e autenticaÃ§Ã£o
* ğŸ³ VersÃ£o com Docker para ensinar deploy

Qual vocÃª quer preparar para sua prÃ³xima aula?
